import{u,r as N,j as a,H as f}from"./app-Coh28GkN.js";import{A as y}from"./app-layout-DxwWa6ki.js";import{C as b}from"./card-BCRZtXkA.js";import{T as n,a as r,b as i,c as s,d as p,e as m,f as k}from"./table-CLnJY92L.js";import{f as c,d as w,B as d,e as _}from"./button-DWWnqr2n.js";import{D as T,a as P,b as B,c as v,d as z}from"./dialog-DUePzpzH.js";/* empty css            */import"./index-HB87p0Ve.js";import"./index-CtC4mkRX.js";import"./index-BmfNfoHw.js";import"./x-DU0VxgT_.js";import"./index-CDQHmKfo.js";import"./index-C77Ne_n3.js";import"./index-D6m8-lop.js";import"./chevrons-up-down-BAVBRCdf.js";import"./route-layout-CLvlloRf.js";const D=[{title:"Detail Pembayaran",href:"/admin/pembayaran"}],q=({pembayaran:e})=>{const{put:x,reset:h}=u({tanggal_konfirmasi:""}),[o,g]=N.useState(!1),j=l=>{x(route("admin.pembayaran.konfirmasi",l),{onSuccess:()=>h()})};return a.jsxs(y,{breadcrumbs:D,children:[a.jsx(f,{title:"Pembayaran "+e.tagihan.siswa.nama}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["Detail Pembayaran ",e.tagihan.siswa.nama]}),a.jsx("h2",{className:"text-sm text-muted-foreground",children:"Informasi lengkap detail pembayaran"})]})}),a.jsxs(b,{className:"bg-white shadow-sm p-4 mb-4",children:[a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"uppercase text-lg font-semibold text-white bg-gray-600 p-2",children:"informasi tagihan"}),a.jsx(n,{className:"md:w-full",children:a.jsxs(r,{children:[a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900 w-40",children:"No"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.id]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Tagihan ID"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.tagihan.id]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Item Tagihan"}),a.jsx(s,{className:"text-gray-900",children:a.jsxs(n,{className:"table-auto w-full",children:[a.jsx(p,{children:a.jsxs(i,{children:[a.jsx(m,{className:"w-24",children:"No"}),a.jsx(m,{className:"",children:"Nama Biaya"}),a.jsx(m,{className:"",children:"Jumlah"})]})}),a.jsx(r,{children:e.tagihan.details?.map((l,t)=>a.jsxs(i,{children:[a.jsx(s,{className:"w-24",children:t+1}),a.jsx(s,{className:"",children:l.nama_biaya}),a.jsx(s,{className:"",children:c(l.jumlah_biaya)})]},l.id))}),e.tagihan.details?.length>0&&a.jsx(k,{children:a.jsxs(i,{className:"bg-gray-100 font-semibold",children:[a.jsx(s,{className:"w-12"}),a.jsx(s,{className:"font-bold text-gray-900 capitalize text-center",children:"Total Tagihan"}),a.jsx(s,{className:"font-bold text-gray-900",children:c(e.tagihan.details.reduce((l,t)=>l+t.jumlah_biaya,0))})]})})]})})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Total Tagihan"}),a.jsxs(s,{className:"text-gray-900",children:[": ",c(e.tagihan.details.reduce((l,t)=>l+t.jumlah_biaya,0))]})]})]})})]}),a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"uppercase text-lg font-semibold text-white bg-gray-600 p-2",children:"informasi siswa"}),a.jsx(n,{className:"md:w-full",children:a.jsxs(r,{children:[a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900 w-40",children:"Nama Siswa"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.tagihan.siswa.nama]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Nama Wali"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.wali.name]})]})]})})]}),e.metode_pembayaran==="transfer"&&a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"uppercase text-lg font-semibold text-white bg-gray-600 p-2",children:"informasi bank pengirim"}),a.jsx(n,{className:"md:w-full",children:a.jsxs(r,{children:[a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900 w-40",children:"Bank Pengirim"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.wali_bank?.nama_bank??"-"]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Nomor Rekening"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.wali_bank?.nomor_rekening??"-"]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Pemilik Rekening"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",e.wali_bank?.nama_rekening??"-"]})]})]})})]}),e.metode_pembayaran==="transfer"&&a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"uppercase text-lg font-semibold text-white bg-gray-600 p-2",children:"informasi bank tujuan"}),a.jsx(n,{className:"md:w-full",children:a.jsxs(r,{children:[a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900 w-40",children:"Bank Tujuan Transfer"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.bank_sekolah?.nama_bank??"-"]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Nomor Rekening"}),a.jsxs(s,{className:"text-gray-900",children:[": ",e.bank_sekolah?.nomor_rekening??"-"]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Atas Nama"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",e.bank_sekolah?.nama_rekening??"-"]})]})]})})]}),a.jsxs("div",{className:"",children:[a.jsx("h2",{className:"uppercase text-lg font-semibold text-white bg-gray-600 p-2",children:"informasi pembayaran"}),a.jsx(n,{className:"md:w-full",children:a.jsxs(r,{children:[a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900 capitalize w-40",children:"Metode Pembayaran"}),a.jsxs(s,{className:"text-gray-900 capitalize font-bold",children:[": ",e.metode_pembayaran]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Tanggal Pembayaran"}),a.jsxs(s,{className:"text-gray-900",children:[": ",w(e.tanggal_pembayaran)]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Jumlah Total Tagihan"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",c(e.tagihan.details.reduce((l,t)=>l+t.jumlah_biaya,0))]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Jumlah Yang Dibayar"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",c(e.jumlah_dibayar)]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Bukti Pembayaran"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[":",a.jsxs(T,{open:o,onOpenChange:g,children:[a.jsx(P,{asChild:!0,children:a.jsx(d,{variant:"link",className:"p-0 h-auto text-blue-600 underline",children:"Lihat Bukti Pembayaran"})}),a.jsxs(B,{className:"max-w-3xl",children:[a.jsx(v,{children:a.jsx(z,{children:"Bukti Pembayaran"})}),a.jsx("img",{src:`/storage/${e.bukti_pembayaran}`,alt:"Bukti Pembayaran",className:"w-full h-auto rounded-md object-contain max-h-[80vh]"})]})]})]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Status Konfirmasi"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",e.status_konfirmasi]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Status Pembayaran"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",e.tagihan.status]})]}),a.jsxs(i,{children:[a.jsx(s,{className:"font-medium text-gray-900",children:"Tanggal Konfirmasi"}),a.jsxs(s,{className:"text-gray-900 capitalize",children:[": ",e.tanggal_konfirmasi?_(e.tanggal_konfirmasi):"-"]})]})]})})]}),e.tanggal_konfirmasi?a.jsx("p",{className:"bg-green-100 text-green-700 px-4 py-2 rounded-lg shadow-md border border-green-300",children:"âœ… Pembayaran ini sudah dikonfirmasi !!!"}):a.jsx(d,{variant:"default",onClick:()=>j(e.id),children:"Konfirmasi Pembayaran ini"})]})]})]})};export{q as default};
