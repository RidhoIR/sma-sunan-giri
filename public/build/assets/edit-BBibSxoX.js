import{r as u,u as N,j as a}from"./app-Coh28GkN.js";import{B as c}from"./button-DWWnqr2n.js";import{D as C,a as D,b as F,c as S,d as b,e as y,f as E}from"./dialog-DUePzpzH.js";import{I as o}from"./input-DQfjS0Jc.js";import{L as l}from"./label-B9WtLpDX.js";import{S as h,a as j,b as x,c as p,d as i}from"./select-DBMBIj5P.js";import{P as I}from"./pencil-D-YtiDbN.js";import{L as P}from"./loader-circle-jqZAKQAR.js";/* empty css            */import"./index-HB87p0Ve.js";import"./index-CtC4mkRX.js";import"./index-BmfNfoHw.js";import"./x-DU0VxgT_.js";import"./index-D6m8-lop.js";import"./index-CDQHmKfo.js";import"./index-C77Ne_n3.js";import"./index-CBm6LL4B.js";import"./chevron-down-BICbNeg5.js";const X=({siswa:e})=>{const[g,d]=u.useState(!1),{data:t,setData:r,post:f,errors:s,processing:m}=N({nama:e.nama,nisn:e.nisn,kelas:e.kelas,jurusan:e.jurusan,angkatan:e.angkatan,foto:null});u.useEffect(()=>{r({nama:e.nama,nisn:e.nisn,kelas:e.kelas,jurusan:e.jurusan,angkatan:e.angkatan,foto:null})},[e,r]);const v=n=>{n.preventDefault(),f(route("admin.siswa.update",e.id),{forceFormData:!0,onSuccess:()=>d(!1),onError:k=>console.log("Form submission errors:",k),preserveScroll:!0})};return a.jsx("div",{children:a.jsxs(C,{open:g,onOpenChange:d,children:[a.jsx(D,{asChild:!0,children:a.jsx(c,{variant:"blue",children:a.jsx(I,{})})}),a.jsxs(F,{children:[a.jsxs(S,{children:[a.jsx(b,{children:"Edit Data"}),a.jsx(y,{children:"Masukkan data yang ingin diubah sesuai dengan form yang ada dibawah ini"})]}),a.jsx("form",{onSubmit:v,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(l,{htmlFor:"nama",children:"Nama"}),a.jsx(o,{id:"nama",value:t.nama,onChange:n=>r("nama",n.target.value),required:!0}),s.nama&&a.jsx("p",{className:"text-red-500",children:s.nama})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"nisn",children:"NISN"}),a.jsx(o,{id:"nisn",value:t.nisn,onChange:n=>r("nisn",n.target.value),required:!0}),s.nisn&&a.jsx("p",{className:"text-red-500",children:s.nisn})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"jurusan",children:"Jurusan"}),a.jsxs(h,{value:t.jurusan,onValueChange:n=>r("jurusan",n),children:[a.jsx(j,{className:"w-full",children:a.jsx(x,{placeholder:"Pilih jurusan"})}),a.jsxs(p,{children:[a.jsx(i,{value:"ipa",children:"IPA"}),a.jsx(i,{value:"ips",children:"IPS"})]})]}),s.jurusan&&a.jsx("p",{className:"text-red-600",children:s.jurusan})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"kelas",children:"Kelas"}),a.jsxs(h,{value:t.kelas,onValueChange:n=>r("kelas",n),children:[a.jsx(j,{className:"w-full",children:a.jsx(x,{placeholder:"Pilih kelas"})}),a.jsxs(p,{children:[a.jsx(i,{value:"10",children:"10"}),a.jsx(i,{value:"11",children:"11"}),a.jsx(i,{value:"12",children:"12"})]})]}),s.kelas&&a.jsx("p",{className:"text-red-600",children:s.kelas})]}),a.jsxs("div",{children:[a.jsx(l,{htmlFor:"angkatan",children:"Angkatan"}),a.jsx(o,{id:"angkatan",value:t.angkatan,onChange:n=>r("angkatan",n.target.value),required:!0}),s.angkatan&&a.jsx("p",{className:"text-red-500",children:s.angkatan})]}),a.jsxs("div",{className:"grid gap-3",children:[a.jsx(l,{htmlFor:"foto",children:"Foto"}),a.jsx(o,{id:"foto",type:"file",accept:"image/*",onChange:n=>r("foto",n.target.files?.[0]||null)}),s.foto&&a.jsx("p",{className:"text-red-500",children:s.foto}),e.foto&&a.jsx("img",{src:`/storage/${e.foto}`,alt:"Foto lama",className:"mt-2 h-16 rounded"})]}),a.jsxs(E,{children:[a.jsx(c,{type:"submit",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Save Changes"}),a.jsx(c,{type:"button",onClick:()=>d(!1),children:"Cancel"})]})]})})]})]})})};export{X as default};
