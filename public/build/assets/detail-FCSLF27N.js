import{r as v,j as e,u as g,H as S}from"./app-Coh28GkN.js";import{A as T}from"./app-layout-DxwWa6ki.js";import{C as P}from"./card-BCRZtXkA.js";import{T as y,a as b,b as n,c as t,d as _,e as o}from"./table-CLnJY92L.js";import{D as L,a as A,b as M,c as H,d as I,e as W,f as E,g as U}from"./dialog-DUePzpzH.js";import{L as z}from"./label-B9WtLpDX.js";import{C as B,a as F,b as O,c as G,d as R,e as V}from"./command-CIjx85Gj.js";import{P as q,a as K,b as $}from"./popover-CN9g6Vk6.js";import{a as C,c as J,B as x}from"./button-DWWnqr2n.js";import{C as Q}from"./chevron-down-BICbNeg5.js";import{C as X}from"./index-C77Ne_n3.js";import{U as Y}from"./user-CusUDlis.js";import{L as N}from"./loader-circle-jqZAKQAR.js";import{T as Z}from"./trash-tyBzgCFG.js";/* empty css            */import"./index-HB87p0Ve.js";import"./index-CtC4mkRX.js";import"./index-BmfNfoHw.js";import"./x-DU0VxgT_.js";import"./index-CDQHmKfo.js";import"./index-D6m8-lop.js";import"./chevrons-up-down-BAVBRCdf.js";import"./route-layout-CLvlloRf.js";import"./search-DA7ChuBn.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ae=C("GraduationCap",ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],te=C("UserPlus",se),le=({options:l,value:r,onValueChange:h,placeholder:p="Pilih...",searchPlaceholder:d="Cari..."})=>{const[j,c]=v.useState(!1),m=a=>{h(a),c(!1)};return e.jsxs(q,{open:j,onOpenChange:c,children:[e.jsx(K,{asChild:!0,children:e.jsxs("button",{type:"button",className:J("flex w-full items-center justify-between rounded-md border px-3 py-2 text-sm",!r&&"text-muted-foreground"),onClick:a=>{a.stopPropagation()},children:[l.find(a=>a.value===r)?.label||p,e.jsx(Q,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx($,{className:"w-[var(--radix-popover-trigger-width)] p-0",children:e.jsxs(B,{shouldFilter:!0,children:[e.jsx(F,{placeholder:d}),e.jsxs(O,{children:[e.jsx(G,{children:"Tidak ditemukan"}),e.jsx(R,{children:l.map(a=>e.jsxs(V,{value:a.label,onSelect:()=>m(a.value),onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),m(a.value))},onClick:i=>{i.stopPropagation()},children:[a.label,r===a.value&&e.jsx(X,{className:"ml-auto h-4 w-4 opacity-50"})]},a.value))})]})]})})]})},re=[{title:"Detail Data Wali Murid",href:"/admin/wali"}],_e=({wali:l,wali_siswa:r,siswa_belum_dimiliki:h})=>{const[p,d]=v.useState(!1),{data:j,setData:c,post:m,processing:a}=g({siswa_id:"",wali_id:""}),{delete:i,processing:u}=g({}),w=h.map(s=>({label:s.nisn+" - "+s.nama,value:s.id.toString()})),D=s=>{s.preventDefault(),m(route("admin.wali.storeWaliSiswa",l.id))},k=s=>{i(route("admin.wali.destroyWaliSiswa",s),{onSuccess:()=>{d(!1)}})};return e.jsxs(T,{breadcrumbs:re,children:[e.jsx(S,{title:"Data Wali Murid"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Detail Data Wali Murid"}),e.jsx("h2",{className:"text-sm text-muted-foreground",children:"Informasi lengkap data wali murid dan anak yang diasuh"})]})}),e.jsxs(P,{className:"bg-white shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{}),e.jsx("h1",{className:"text-xl font-bold capitalize",children:"Informasi Personal"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(y,{className:"md:w-xl",children:e.jsxs(b,{children:[e.jsxs(n,{children:[e.jsx(t,{className:"font-medium text-gray-900",children:"Nama"}),e.jsxs(t,{className:"text-gray-900",children:[": ",l.name]})]}),e.jsxs(n,{children:[e.jsx(t,{className:"font-medium text-gray-900",children:"Email"}),e.jsxs(t,{className:"text-gray-900",children:[": ",l.email]})]}),e.jsxs(n,{children:[e.jsx(t,{className:"font-medium text-gray-900",children:"No. Telepon"}),e.jsxs(t,{className:"text-gray-900",children:[": ",l.no_hp]})]})]})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{}),e.jsx("h1",{className:"text-xl font-bold capitalize",children:"Tambah Data Anak"})]}),e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(z,{htmlFor:"mahasiswa_id",children:"Pilih Siswa"}),e.jsx(le,{value:j.siswa_id,onValueChange:s=>c("siswa_id",s),options:w})]}),e.jsxs(x,{type:"submit",disabled:a,children:[a&&e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Simpan"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{}),e.jsxs("h1",{className:"text-xl font-bold capitalize",children:["Data Anak (",r.length," Anak)"]})]}),e.jsx("div",{className:"overflow-x-auto max-h-[550px] overflow-y-auto",children:e.jsxs(y,{children:[e.jsx(_,{children:e.jsxs(n,{className:"bg-gray-50",children:[e.jsx(o,{className:"font-semibold text-gray-700",children:"No"}),e.jsx(o,{className:"font-semibold text-gray-700",children:"NISN"}),e.jsx(o,{className:"font-semibold text-gray-700",children:"Nama"}),e.jsx(o,{className:"font-semibold text-gray-700",children:"Updated_by"}),e.jsx(o,{className:"font-semibold text-gray-700",children:"Action"})]})}),e.jsx(b,{children:r.length>0?r.map((s,f)=>e.jsxs(n,{className:"hover:bg-gray-50",children:[e.jsx(t,{className:"text-gray-900",children:f+1}),e.jsx(t,{className:"font-medium text-gray-900",children:s.siswa.nisn}),e.jsx(t,{className:"text-gray-900",children:s.siswa.nama}),e.jsx(t,{className:"text-gray-900",children:s.user.name}),e.jsx(t,{className:"text-gray-900",children:e.jsxs(L,{open:p,onOpenChange:d,children:[e.jsx(A,{asChild:!0,children:e.jsx(x,{variant:"destructive",children:e.jsx(Z,{})})}),e.jsxs(M,{children:[e.jsxs(H,{children:[e.jsx(I,{children:"Confirm"}),e.jsxs(W,{children:["Are you sure you want to delete it permanently? ",e.jsx("span",{className:"text-red-500",children:s.siswa.nama})]})]}),e.jsxs(E,{children:[e.jsx(U,{asChild:!0,children:e.jsx(x,{variant:"outline",children:"Cancel"})}),e.jsxs(x,{type:"submit",variant:"destructive",onClick:()=>k(s.id),disabled:u,children:[u&&e.jsx(N,{className:"mr-2 h-4 w-4 animate-spin"}),"Continue"]})]})]})]})})]},f)):e.jsx(n,{children:e.jsx(t,{colSpan:4,className:"text-center text-gray-500 py-4",children:"Belum ada Data Anak"})})})]})})]})]})]})};export{_e as default};
